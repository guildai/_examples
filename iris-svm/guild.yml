fit:
  main: plot_iris_exercise
  flags:
    kernel:
      description: SVM kernel type
      default: rbf
      choices: [linear, poly, rbf, sigmoid]
    test_split:
      description: Percentage of examples held out for test
      default: 0.2
    random_seed:
      description: Seed used for shuffling data
      default: 0
    degree:
      description: Degree of the polynomial (poly) kernel function
      default: 3
    gamma:
      description: Kernel coefficient for rbf, poly, and sigmoid
      default: 0.25
  output-scalars:
    train_accuraty: 'Train accuracy: (\value)'
    test_accuracy: 'Test accuracy: (\value)'

search:
  description: Run various trials to find optimal hyperparameters
  steps:
    - run: fit
    - fit kernel=[poly,rbf,sigmoid]
          gamma=loguniform[1e-3:10.0]
          random_seed=${random_seed}
          -m 10
    - fit kernel=poly
          degree=[2,3,4,5,6]
          random_seed=${random_seed}
  flags:
    random_seed:
      description: Random seed used for trials
      default: 0
