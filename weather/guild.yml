prepare-data:
  description: Prepare data set for training
  main: prepare_data --output .
  flags:
    $import: [source, val-split, random-seed]
  compare: []

train:
  description: Train a model
  main: train --output .
  flags:
    $import: [estimators, random-seed]
  requires:
    - sources:
        - operation: prepare-data
          select: .+\.npy
      path: data
  output-scalars:
    acc: 'Accuracy: (.+)'
  compare:
    - =estimators
    - acc
  objective:
    maximize: acc

predict:
  description: Use a trained model to make a prediction
  main: predict
  requires:
    - operation: train
